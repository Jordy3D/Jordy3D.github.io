<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" href="./files/logo.png">
    <title>Bane // Userscripts</title>
</head>

<body>
    <div class="header">
        <div class="logo">
            <img class="logoImg" src="./files/logo.png" style="width:40px; height: 40px;">

            <h1 style="line-height: 0.3;">Bane</h1>
            <a href="./index.html">
                <span class="linkSpan"></span>
            </a>
        </div>

        <h4 class="NavBar">
            <a id="secret" style="opacity: 0; margin-right: 10px;" href="./test.html">Test page</a>
            <a id="contact" href="https://twitter.com/Jordy_3D">Twitter</a>
            <a id="support" href="https://github.com/Jordy3D/">GitHub</a>
        </h4>
    </div>

    <div class="crt">
        <div class="scan"></div>
    </div>
    <div class="content">
        <h1 class="separator-title">//About</h1>

        <div class="section">
            <div class="section-content">
                <p>In order to download and use these styles, you need to install something like Tampermonkey
                    first.<br>Here is a link to the extension:</p>
                <div class="stylus-button-holder">
                    <a id="chrome" href="https://www.tampermonkey.net/">Tampermonkey</a>
                </div>
            </div>
        </div>

        <h1 class="separatorTitle">//Content</h1>

        <script>
            function createCard(script, image, description, leftOverride = null) {
                var scriptInfo = loadUserscriptInformation(script);

                var container = document.querySelector(".column");

                var card = document.createElement("div");
                card.classList.add("objectCard");

                var cardData = document.createElement("div");
                cardData.classList.add("objectCardData");
                cardData.style.backgroundImage = `url(${image})`;

                var cardFilter = document.createElement("div");
                cardFilter.classList.add("objectCardFilter");
                cardFilter.style.backdropFilter = "brightness(0.25) blur(16px)";

                var cardImageHolder = document.createElement("div");
                cardImageHolder.classList.add("objectCardImageHolder");

                var cardImage = document.createElement("img");
                cardImage.loading = "lazy";
                cardImage.src = image;
                cardImage.style.left = "-85px";
                if (leftOverride != null)
                    cardImage.style.left = leftOverride;
                cardImageHolder.appendChild(cardImage);

                var cardInfo = document.createElement("div");
                cardInfo.classList.add("objectCardInfo");

                var cardHeader = document.createElement("div");
                cardHeader.classList.add("objectCardHeader");

                var cardTitle = document.createElement("h4");
                cardTitle.classList.add("objectCardTitle");
                cardTitle.innerHTML = scriptInfo.name;

                var cardVersion = document.createElement("h5");
                cardVersion.classList.add("objectCardVersion");
                cardVersion.innerHTML = `v${scriptInfo.version}`;

                var cardDescription = document.createElement("p");
                cardDescription.innerHTML = description;

                var cardLink = document.createElement("a");
                cardLink.href = script;

                var cardLinkSpan = document.createElement("span");
                cardLinkSpan.classList.add("linkSpan");

                cardLink.appendChild(cardLinkSpan);
                cardInfo.appendChild(cardHeader);
                cardHeader.appendChild(cardTitle);
                cardHeader.appendChild(cardVersion);
                cardInfo.appendChild(cardDescription);
                cardInfo.appendChild(cardLink);
                cardFilter.appendChild(cardImageHolder);
                cardFilter.appendChild(cardInfo);
                cardData.appendChild(cardFilter);
                card.appendChild(cardData);

                container.appendChild(card);

                return card;
            }

            function loadUserscriptInformation(scriptURL) {
                var request = new XMLHttpRequest();
                request.open("GET", scriptURL, false);
                request.send(null);
                var script = request.responseText;

                var name = script.match(/\/\/\s*@name\s+(.*)/)[1];
                var version = script.match(/\/\/\s*@version\s+(.*)/)[1];

                return { name: name, version: version };
            }
        </script>

        <div class="objectListContainer">
            <div class="column">
                <script>
                    createCard("files/userscripts/js/YouTubePlus.user.js", "files/userscripts/images/youtubecommentbuttons.png", "A number of bonus features for YouTube.<br><li>SHORTS: Volume Control, Watch as Video, and Download</li><li>GENERAL: Simple Markdown formatting on Comments and Replies.</li>");

                    createCard("files/userscripts/js/ArxivWebShortcut.user.js", "files/userscripts/images/arxivweb.png", "Arxiv has a cool feature.<br>It shouldn't be hidden.", "-35px");

                    createCard("files/userscripts/js/DiscordChan.user.js", "files/userscripts/images/discordchan.png", "Greentexts are a gift from God.<br>Create a little Discord.");

                    createCard("files/userscripts/js/JSRL.user.js", "files/userscripts/images/jsrlp.png", "The streets of Tokyo-to deserve a little more lovin'");

                    createCard("files/userscripts/js/Deathworlders.user.js", null, "A little bit of extra functionality for the Deathworlders webnovel.");
                </script>

                <h1 class="separator-title ">//Support</h1>

                <div class="section " id="support">
                    <div class="section-content ">
                        <p>This isn't necessary, but any support would be greatly appreciated!</p>
                        <div class="supportLinks ">
                            <a href="https://ko-fi.com/jordy3d ">Ko-Fi</a>
                            <a href="https://www.buymeacoffee.com/jordy3d ">Buymeacoffee</a>
                        </div>
                    </div>
                </div>

            </div>
        </div>
</body>

</html>